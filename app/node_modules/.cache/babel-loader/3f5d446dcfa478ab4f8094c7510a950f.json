{"ast":null,"code":"import { useRef, useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicEffect = typeof window === 'undefined' ? useEffect : useLayoutEffect;\n\nfunction runKeyHandler(e, keyHandlers) {\n  var handler = keyHandlers[e.keyCode];\n\n  if (handler) {\n    handler(); // if event was handled prevent other side effects (e.g. page scroll)\n\n    e.preventDefault();\n  }\n}\n\nfunction useGlobalKeyDown(active, keyHandlers) {\n  var keyHandlersRef = useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n  useIsomorphicEffect(function () {\n    if (active) {\n      var handleKeyDown = function handleKeyDown(event) {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n\n      window.addEventListener('keydown', handleKeyDown);\n      return function () {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n  }, [active]);\n}\n\nvar keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27\n};\nexport { useGlobalKeyDown as a, keycode as k, useIsomorphicEffect as u };","map":{"version":3,"sources":["../src/_shared/hooks/useKeyDown.ts"],"names":["useIsomorphicEffect","React","handler","keyHandlers","e","keyHandlersRef","handleKeyDown","runKeyHandler","window","keycode","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Home","End","PageUp","PageDown","Esc"],"mappings":";IAEaA,mBAAmB,GAC9B,OAAA,MAAA,KAAA,WAAA,GAAA,SAAA,GAAkDC,e;;AAI7C,SAAA,aAAA,CAAA,CAAA,EAAA,WAAA,EAAyF;MACxFC,OAAO,GAAGC,WAAW,CAACC,CAAC,CAA7B,OAA2B,C;;MAC3B,O,EAAa;AACXF,IAAAA,OADW,GAAA,CAAA;;AAGXE,IAAAA,CAAC,CAADA,cAAAA;;;;AAkBG,SAAA,gBAAA,CAAA,MAAA,EAAA,WAAA,EAAqE;MACpEC,cAAc,GAAGJ,MAAAA,CAAvB,WAAuBA,C;AACvBI,EAAAA,cAAc,CAAdA,OAAAA,GAAAA,WAAAA;AAEAL,EAAAA,mBAAmB,CAAC,YAAM;QACxB,M,EAAY;UACJM,aAAa,GAAG,SAAhBA,aAAgB,CAAA,KAAA,EAA0B;AAC9CC,QAAAA,aAAa,CAAA,KAAA,EAAQF,cAAc,CAAnCE,OAAa,CAAbA;AADF,O;;AAGAC,MAAAA,MAAM,CAANA,gBAAAA,CAAAA,SAAAA,EAAAA,aAAAA;aACO,YAAM;AACXA,QAAAA,MAAM,CAANA,mBAAAA,CAAAA,SAAAA,EAAAA,aAAAA;AADF,O;;AANe,GAAA,EAUhB,CAVHR,MAUG,CAVgB,CAAnBA;;;AAaF,IAAaS,OAAO,GAAG;AACrBC,EAAAA,OAAO,EADc,EAAA;AAErBC,EAAAA,SAAS,EAFY,EAAA;AAGrBC,EAAAA,SAAS,EAHY,EAAA;AAIrBC,EAAAA,UAAU,EAJW,EAAA;AAKrBC,EAAAA,KAAK,EALgB,EAAA;AAMrBC,EAAAA,IAAI,EANiB,EAAA;AAOrBC,EAAAA,GAAG,EAPkB,EAAA;AAQrBC,EAAAA,MAAM,EARe,EAAA;AASrBC,EAAAA,QAAQ,EATa,EAAA;AAUrBC,EAAAA,GAAG,EAAE;AAVgB,CAAvB","sourcesContent":["import * as React from 'react';\n\nexport const useIsomorphicEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\ntype KeyHandlers = Record<number, () => void>;\n\nexport function runKeyHandler(e: KeyboardEvent | React.KeyboardEvent, keyHandlers: KeyHandlers) {\n  const handler = keyHandlers[e.keyCode];\n  if (handler) {\n    handler();\n    // if event was handled prevent other side effects (e.g. page scroll)\n    e.preventDefault();\n  }\n}\n\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  return React.useCallback(\n    (e: React.KeyboardEvent) => {\n      if (active) {\n        runKeyHandler(e, keyHandlersRef.current);\n      }\n    },\n    [active]\n  );\n}\n\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  useIsomorphicEffect(() => {\n    if (active) {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n  }, [active]);\n}\n\nexport const keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27,\n};\n"]},"metadata":{},"sourceType":"module"}