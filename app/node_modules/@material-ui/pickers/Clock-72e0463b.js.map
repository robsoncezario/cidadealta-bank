{"version":3,"file":"Clock-72e0463b.js","sources":["../src/views/Clock/ClockPointer.tsx","../src/_helpers/time-utils.ts","../src/views/Clock/Clock.tsx"],"sourcesContent":["import * as React from 'react';\nimport clsx from 'clsx';\nimport { ClockViewType } from '../../constants/ClockType';\nimport { withStyles, createStyles, Theme, WithStyles } from '@material-ui/core/styles';\n\nexport interface ClockPointerProps\n  extends React.HTMLProps<HTMLDivElement>,\n    WithStyles<typeof styles> {\n  value: number;\n  hasSelected: boolean;\n  isInner: boolean;\n  type: ClockViewType;\n}\n\nexport class ClockPointer extends React.Component<ClockPointerProps> {\n  public static getDerivedStateFromProps = (\n    nextProps: ClockPointerProps,\n    state: ClockPointer['state']\n  ) => {\n    if (nextProps.type !== state.previousType) {\n      return {\n        toAnimateTransform: true,\n        previousType: nextProps.type,\n      };\n    }\n\n    return {\n      toAnimateTransform: false,\n      previousType: nextProps.type,\n    };\n  };\n\n  public state = {\n    toAnimateTransform: false,\n    previousType: undefined,\n  };\n\n  public getAngleStyle = () => {\n    const { value, isInner, type } = this.props;\n\n    const max = type === 'hours' ? 12 : 60;\n    let angle = (360 / max) * value;\n\n    if (type === 'hours' && value > 12) {\n      angle -= 360; // round up angle to max 360 degrees\n    }\n\n    return {\n      height: isInner ? '26%' : '40%',\n      transform: `rotateZ(${angle}deg)`,\n    };\n  };\n\n  public render() {\n    const { classes, hasSelected, isInner, type, ...other } = this.props;\n\n    return (\n      <div\n        {...other}\n        style={this.getAngleStyle()}\n        className={clsx(classes.pointer, {\n          [classes.animateTransform]: this.state.toAnimateTransform,\n        })}\n      >\n        <div\n          className={clsx(classes.thumb, {\n            [classes.noPoint]: hasSelected,\n          })}\n        />\n      </div>\n    );\n  }\n}\n\nexport const styles = (theme: Theme) =>\n  createStyles({\n    pointer: {\n      width: 2,\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      left: 'calc(50% - 1px)',\n      bottom: '50%',\n      transformOrigin: 'center bottom 0px',\n    },\n    animateTransform: {\n      transition: theme.transitions.create(['transform', 'height']),\n    },\n    thumb: {\n      width: 4,\n      height: 4,\n      backgroundColor: theme.palette.primary.contrastText,\n      borderRadius: '100%',\n      position: 'absolute',\n      top: -21,\n      left: -15,\n      border: `14px solid ${theme.palette.primary.main}`,\n      boxSizing: 'content-box',\n    },\n    noPoint: {\n      backgroundColor: theme.palette.primary.main,\n    },\n  });\n\nexport default withStyles(styles, {\n  name: 'MuiPickersClockPointer',\n})(ClockPointer as React.ComponentType<ClockPointerProps>);\n","import { IUtils } from '@date-io/core/IUtils';\nimport { ParsableDate } from '../constants/prop-types';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { MuiPickersAdapter } from '../_shared/hooks/useUtils';\n\nexport const getMeridiem = (\n  date: MaterialUiPickersDate,\n  utils: IUtils<MaterialUiPickersDate>\n): 'am' | 'pm' => {\n  return utils.getHours(date) >= 12 ? 'pm' : 'am';\n};\n\nexport const convertValueToMeridiem = (value: number, meridiem: 'am' | 'pm', ampm: boolean) => {\n  if (ampm) {\n    const currentMeridiem = value >= 12 ? 'pm' : 'am';\n    if (currentMeridiem !== meridiem) {\n      return meridiem === 'am' ? value - 12 : value + 12;\n    }\n  }\n\n  return value;\n};\n\nexport const convertToMeridiem = (\n  time: MaterialUiPickersDate,\n  meridiem: 'am' | 'pm',\n  ampm: boolean,\n  utils: IUtils<MaterialUiPickersDate>\n) => {\n  const newHoursAmount = convertValueToMeridiem(utils.getHours(time), meridiem, ampm);\n  return utils.setHours(time, newHoursAmount);\n};\n\nconst clockCenter = {\n  x: 260 / 2,\n  y: 260 / 2,\n};\n\nconst baseClockPoint = {\n  x: clockCenter.x,\n  y: 0,\n};\n\nconst cx = baseClockPoint.x - clockCenter.x;\nconst cy = baseClockPoint.y - clockCenter.y;\n\nconst rad2deg = (rad: number) => rad * 57.29577951308232;\n\nconst getAngleValue = (step: number, offsetX: number, offsetY: number) => {\n  const x = offsetX - clockCenter.x;\n  const y = offsetY - clockCenter.y;\n\n  const atan = Math.atan2(cx, cy) - Math.atan2(x, y);\n\n  let deg = rad2deg(atan);\n  deg = Math.round(deg / step) * step;\n  deg %= 360;\n\n  const value = Math.floor(deg / step) || 0;\n  const delta = Math.pow(x, 2) + Math.pow(y, 2);\n  const distance = Math.sqrt(delta);\n\n  return { value, distance };\n};\n\nexport const getMinutes = (offsetX: number, offsetY: number, step = 1) => {\n  const angleStep = step * 6;\n  let { value } = getAngleValue(angleStep, offsetX, offsetY);\n  value = (value * step) % 60;\n\n  return value;\n};\n\nexport const getHours = (offsetX: number, offsetY: number, ampm: boolean) => {\n  let { value, distance } = getAngleValue(30, offsetX, offsetY);\n  value = value || 12;\n\n  if (!ampm) {\n    if (distance < 90) {\n      value += 12;\n      value %= 24;\n    }\n  } else {\n    value %= 12;\n  }\n\n  return value;\n};\n\nexport function getSecondsInDay(date: MaterialUiPickersDate, utils: MuiPickersAdapter) {\n  return utils.getHours(date) * 3600 + utils.getMinutes(date) * 60 + utils.getSeconds(date);\n}\n\nexport const createIsAfterIgnoreDatePart = (\n  disableTimeValidationIgnoreDatePart: boolean,\n  utils: MuiPickersAdapter\n) => (dateLeft: MaterialUiPickersDate, dateRight: MaterialUiPickersDate) => {\n  if (disableTimeValidationIgnoreDatePart) {\n    return utils.isAfter;\n  }\n\n  return getSecondsInDay(dateLeft, utils) > getSecondsInDay(dateRight, utils);\n};\n\nexport interface TimeValidationProps {\n  /** Min time, date part by default, will be ignored */\n  minTime?: MaterialUiPickersDate;\n  /** Max time, date part by default, will be ignored */\n  maxTime?: MaterialUiPickersDate;\n  /** Dynamically check if time is disabled or not */\n  shouldDisableTime?: (timeValue: number, clockType: 'hours' | 'minutes' | 'seconds') => boolean;\n  /** Do not ignore date part when validating min/max time */\n  disableTimeValidationIgnoreDatePart?: boolean;\n}\n\nexport const validateTime = (\n  utils: MuiPickersAdapter,\n  value: MaterialUiPickersDate | ParsableDate,\n  { minTime, maxTime, shouldDisableTime, disableTimeValidationIgnoreDatePart }: TimeValidationProps\n) => {\n  const date = utils.date(value);\n  const isAfterComparingFn = createIsAfterIgnoreDatePart(\n    Boolean(disableTimeValidationIgnoreDatePart),\n    utils\n  );\n\n  switch (true) {\n    case !utils.isValid(value):\n      return 'invalidDate';\n\n    case Boolean(minTime && isAfterComparingFn(minTime, date)):\n      return 'minTime';\n\n    case Boolean(maxTime && isAfterComparingFn(date, maxTime)):\n      return 'maxTime';\n\n    case Boolean(shouldDisableTime && shouldDisableTime(utils.getHours(date), 'hours')):\n      return 'shouldDisableTime-hours';\n\n    case Boolean(shouldDisableTime && shouldDisableTime(utils.getMinutes(date), 'minutes')):\n      return 'shouldDisableTime-minutes';\n\n    case Boolean(shouldDisableTime && shouldDisableTime(utils.getSeconds(date), 'seconds')):\n      return 'shouldDisableTime-seconds';\n\n    default:\n      return null;\n  }\n};\n\nexport type TimeValidationError = ReturnType<typeof validateTime>;\n","import * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport ClockPointer from './ClockPointer';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useUtils } from '../../_shared/hooks/useUtils';\nimport { VIEW_HEIGHT } from '../../constants/dimensions';\nimport { ClockViewType } from '../../constants/ClockType';\nimport { MaterialUiPickersDate } from '../../typings/date';\nimport { PickerOnChangeFn } from '../../_shared/hooks/useViews';\nimport { getHours, getMinutes } from '../../_helpers/time-utils';\nimport { useMeridiemMode } from '../../TimePicker/TimePickerToolbar';\nimport { useGlobalKeyDown, keycode } from '../../_shared/hooks/useKeyDown';\nimport { WrapperVariantContext } from '../../wrappers/WrapperVariantContext';\n\nexport interface ClockProps extends ReturnType<typeof useMeridiemMode> {\n  date: MaterialUiPickersDate;\n  type: ClockViewType;\n  value: number;\n  isTimeDisabled: (timeValue: number, type: ClockViewType) => boolean;\n  children: React.ReactElement<any>[];\n  onDateChange: PickerOnChangeFn;\n  onChange: (value: number, isFinish?: boolean | symbol) => void;\n  ampm?: boolean;\n  minutesStep?: number;\n  ampmInClock?: boolean;\n  allowKeyboardControl?: boolean;\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    container: {\n      display: 'flex',\n      justifyContent: 'center',\n      position: 'relative',\n      minHeight: VIEW_HEIGHT,\n      alignItems: 'center',\n    },\n    clock: {\n      backgroundColor: 'rgba(0,0,0,.07)',\n      borderRadius: '50%',\n      height: 260,\n      width: 260,\n      position: 'relative',\n      pointerEvents: 'none',\n    },\n    squareMask: {\n      width: '100%',\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'auto',\n      outline: 'none',\n      touchActions: 'none',\n      userSelect: 'none',\n      '&:active': {\n        cursor: 'move',\n      },\n    },\n    pin: {\n      width: 6,\n      height: 6,\n      borderRadius: '50%',\n      backgroundColor: theme.palette.primary.main,\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n    },\n    amButton: {\n      zIndex: 1,\n      left: 8,\n      position: 'absolute',\n      bottom: 8,\n    },\n    pmButton: {\n      zIndex: 1,\n      position: 'absolute',\n      bottom: 8,\n      right: 8,\n    },\n    meridiemButtonSelected: {\n      backgroundColor: theme.palette.primary.main,\n      color: theme.palette.primary.contrastText,\n      '&:hover': {\n        backgroundColor: theme.palette.primary.light,\n      },\n    },\n  }),\n  {\n    name: 'MuiPickersClock',\n  }\n);\n\nexport const Clock: React.FC<ClockProps> = ({\n  date,\n  ampmInClock = false,\n  value,\n  children: numbersElementsArray,\n  type,\n  ampm,\n  isTimeDisabled,\n  minutesStep = 1,\n  allowKeyboardControl,\n  onChange,\n  meridiemMode,\n  handleMeridiemChange,\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n  const isMoving = React.useRef(false);\n\n  const isSelectedTimeDisabled = isTimeDisabled(value, type);\n  const isPointerInner = !ampm && type === 'hours' && (value < 1 || value > 12);\n\n  const handleValueChange = (newValue: number, isFinish: boolean) => {\n    if (isTimeDisabled(newValue, type)) {\n      return;\n    }\n\n    onChange(newValue, isFinish);\n  };\n\n  const setTime = (e: any, isFinish = false) => {\n    let { offsetX, offsetY } = e;\n\n    if (typeof offsetX === 'undefined') {\n      const rect = e.target.getBoundingClientRect();\n\n      offsetX = e.changedTouches[0].clientX - rect.left;\n      offsetY = e.changedTouches[0].clientY - rect.top;\n    }\n\n    const value =\n      type === 'seconds' || type === 'minutes'\n        ? getMinutes(offsetX, offsetY, minutesStep)\n        : getHours(offsetX, offsetY, Boolean(ampm));\n\n    handleValueChange(value, isFinish);\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    isMoving.current = true;\n    setTime(e);\n  };\n\n  const handleTouchEnd = (e: React.TouchEvent) => {\n    if (isMoving.current) {\n      setTime(e, true);\n      isMoving.current = false;\n    }\n  };\n\n  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    // MouseEvent.which is deprecated, but MouseEvent.buttons is not supported in Safari\n    const isButtonPressed =\n      typeof e.buttons === 'undefined' ? e.nativeEvent.which === 1 : e.buttons === 1;\n\n    if (isButtonPressed) {\n      setTime(e.nativeEvent, false);\n    }\n  };\n\n  const handleMouseUp = (e: React.MouseEvent) => {\n    if (isMoving.current) {\n      isMoving.current = false;\n    }\n\n    setTime(e.nativeEvent, true);\n  };\n\n  const hasSelected = React.useMemo(() => {\n    if (type === 'hours') {\n      return true;\n    }\n\n    return value % 5 === 0;\n  }, [type, value]);\n\n  const keyboardControlStep = type === 'minutes' ? minutesStep : 1;\n  useGlobalKeyDown(\n    Boolean(allowKeyboardControl ?? wrapperVariant !== 'static') && !isMoving.current,\n    {\n      [keycode.Home]: () => handleValueChange(0, false), // annulate both hours and minutes\n      [keycode.End]: () => handleValueChange(type === 'minutes' ? 59 : 23, false),\n      [keycode.ArrowUp]: () => handleValueChange(value + keyboardControlStep, false),\n      [keycode.ArrowDown]: () => handleValueChange(value - keyboardControlStep, false),\n    }\n  );\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.clock}>\n        <div\n          role=\"menu\"\n          tabIndex={-1}\n          className={classes.squareMask}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n          onMouseUp={handleMouseUp}\n          onMouseMove={handleMouseMove}\n        />\n\n        {!isSelectedTimeDisabled && (\n          <>\n            <div className={classes.pin} />\n\n            <ClockPointer\n              type={type}\n              value={value}\n              isInner={isPointerInner}\n              hasSelected={hasSelected}\n              aria-live=\"polite\"\n              aria-label={`Selected time ${utils.format(date, 'fullTime')}`}\n            />\n          </>\n        )}\n\n        {numbersElementsArray}\n      </div>\n\n      {ampm && (wrapperVariant === 'desktop' || ampmInClock) && (\n        <>\n          <IconButton\n            data-mui-test=\"in-clock-am-btn\"\n            onClick={() => handleMeridiemChange('am')}\n            className={clsx(classes.amButton, {\n              [classes.meridiemButtonSelected]: meridiemMode === 'am',\n            })}\n          >\n            <Typography variant=\"caption\">AM</Typography>\n          </IconButton>\n          <IconButton\n            data-mui-test=\"in-clock-pm-btn\"\n            onClick={() => handleMeridiemChange('pm')}\n            className={clsx(classes.pmButton, {\n              [classes.meridiemButtonSelected]: meridiemMode === 'pm',\n            })}\n          >\n            <Typography variant=\"caption\">PM</Typography>\n          </IconButton>\n        </>\n      )}\n    </div>\n  );\n};\n\nClock.defaultProps = {\n  ampm: PropTypes.bool,\n  minutesStep: PropTypes.number,\n} as any;\n\nClock.displayName = 'Clock';\n\nexport default Clock;\n"],"names":["ClockPointer","state","toAnimateTransform","previousType","undefined","getAngleStyle","props","value","isInner","type","max","angle","height","transform","classes","hasSelected","other","React.createElement","clsx","pointer","animateTransform","thumb","noPoint","React","getDerivedStateFromProps","nextProps","styles","theme","createStyles","width","backgroundColor","palette","primary","main","position","left","bottom","transformOrigin","transition","transitions","create","contrastText","borderRadius","top","border","boxSizing","withStyles","name","getMeridiem","date","utils","getHours","convertValueToMeridiem","meridiem","ampm","currentMeridiem","convertToMeridiem","time","newHoursAmount","setHours","clockCenter","x","y","baseClockPoint","cx","cy","rad2deg","rad","getAngleValue","step","offsetX","offsetY","atan","Math","atan2","deg","round","floor","delta","pow","distance","sqrt","getMinutes","angleStep","getSecondsInDay","getSeconds","createIsAfterIgnoreDatePart","disableTimeValidationIgnoreDatePart","dateLeft","dateRight","isAfter","validateTime","minTime","maxTime","shouldDisableTime","isAfterComparingFn","Boolean","isValid","useStyles","makeStyles","container","display","justifyContent","minHeight","VIEW_HEIGHT","alignItems","clock","pointerEvents","squareMask","outline","touchActions","userSelect","cursor","pin","amButton","zIndex","pmButton","right","meridiemButtonSelected","color","light","Clock","ampmInClock","numbersElementsArray","children","isTimeDisabled","minutesStep","allowKeyboardControl","onChange","meridiemMode","handleMeridiemChange","useUtils","wrapperVariant","WrapperVariantContext","isMoving","isSelectedTimeDisabled","isPointerInner","handleValueChange","newValue","isFinish","setTime","e","rect","target","getBoundingClientRect","changedTouches","clientX","clientY","handleTouchMove","current","handleTouchEnd","handleMouseMove","preventDefault","stopPropagation","isButtonPressed","buttons","nativeEvent","which","handleMouseUp","keyboardControlStep","useGlobalKeyDown","keycode","Home","End","ArrowUp","ArrowDown","format","defaultProps","PropTypes","displayName"],"mappings":"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"}