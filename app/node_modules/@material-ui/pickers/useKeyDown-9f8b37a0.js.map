{"version":3,"file":"useKeyDown-9f8b37a0.js","sources":["../src/_shared/hooks/useKeyDown.ts"],"sourcesContent":["import * as React from 'react';\n\nexport const useIsomorphicEffect =\n  typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\ntype KeyHandlers = Record<number, () => void>;\n\nexport function runKeyHandler(e: KeyboardEvent | React.KeyboardEvent, keyHandlers: KeyHandlers) {\n  const handler = keyHandlers[e.keyCode];\n  if (handler) {\n    handler();\n    // if event was handled prevent other side effects (e.g. page scroll)\n    e.preventDefault();\n  }\n}\n\nexport function useKeyDownHandler(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  return React.useCallback(\n    (e: React.KeyboardEvent) => {\n      if (active) {\n        runKeyHandler(e, keyHandlersRef.current);\n      }\n    },\n    [active]\n  );\n}\n\nexport function useGlobalKeyDown(active: boolean, keyHandlers: KeyHandlers) {\n  const keyHandlersRef = React.useRef(keyHandlers);\n  keyHandlersRef.current = keyHandlers;\n\n  useIsomorphicEffect(() => {\n    if (active) {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        runKeyHandler(event, keyHandlersRef.current);\n      };\n      window.addEventListener('keydown', handleKeyDown);\n      return () => {\n        window.removeEventListener('keydown', handleKeyDown);\n      };\n    }\n  }, [active]);\n}\n\nexport const keycode = {\n  ArrowUp: 38,\n  ArrowDown: 40,\n  ArrowLeft: 37,\n  ArrowRight: 39,\n  Enter: 13,\n  Home: 36,\n  End: 35,\n  PageUp: 33,\n  PageDown: 34,\n  Esc: 27,\n};\n"],"names":["useIsomorphicEffect","window","React","runKeyHandler","e","keyHandlers","handler","keyCode","preventDefault","useGlobalKeyDown","active","keyHandlersRef","current","handleKeyDown","event","addEventListener","removeEventListener","keycode","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Enter","Home","End","PageUp","PageDown","Esc"],"mappings":";;IAEaA,mBAAmB,GAC9B,OAAOC,MAAP,KAAkB,WAAlB,GAAgCC,SAAhC,GAAkDA;AAIpD,AAAO,SAASC,aAAT,CAAuBC,CAAvB,EAA+DC,WAA/D,EAAyF;MACxFC,OAAO,GAAGD,WAAW,CAACD,CAAC,CAACG,OAAH,CAA3B;;MACID,OAAJ,EAAa;IACXA,OAAO,GADI;;IAGXF,CAAC,CAACI,cAAF;;;AAIJ,AAcO,SAASC,gBAAT,CAA0BC,MAA1B,EAA2CL,WAA3C,EAAqE;MACpEM,cAAc,GAAGT,MAAA,CAAaG,WAAb,CAAvB;EACAM,cAAc,CAACC,OAAf,GAAyBP,WAAzB;EAEAL,mBAAmB,CAAC,YAAM;QACpBU,MAAJ,EAAY;UACJG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAA0B;QAC9CX,aAAa,CAACW,KAAD,EAAQH,cAAc,CAACC,OAAvB,CAAb;OADF;;MAGAX,MAAM,CAACc,gBAAP,CAAwB,SAAxB,EAAmCF,aAAnC;aACO,YAAM;QACXZ,MAAM,CAACe,mBAAP,CAA2B,SAA3B,EAAsCH,aAAtC;OADF;;GANe,EAUhB,CAACH,MAAD,CAVgB,CAAnB;;AAaF,IAAaO,OAAO,GAAG;EACrBC,OAAO,EAAE,EADY;EAErBC,SAAS,EAAE,EAFU;EAGrBC,SAAS,EAAE,EAHU;EAIrBC,UAAU,EAAE,EAJS;EAKrBC,KAAK,EAAE,EALc;EAMrBC,IAAI,EAAE,EANe;EAOrBC,GAAG,EAAE,EAPgB;EAQrBC,MAAM,EAAE,EARa;EASrBC,QAAQ,EAAE,EATW;EAUrBC,GAAG,EAAE;CAVA;;;;"}