{"version":3,"file":"index.js","sources":["../src/DateRangePicker/date-range-manager.ts","../src/DateRangePicker/DateRangePickerToolbar.tsx","../src/DateRangePicker/DateRangePickerDay.tsx","../src/DateRangePicker/DateRangePickerViewMobile.tsx","../src/DateRangePicker/DateRangePickerInput.tsx","../src/DateRangePicker/DateRangePickerViewDesktop.tsx","../src/DateRangePicker/DateRangePickerView.tsx","../src/DateRangePicker/DateRangeDelimiter.tsx","../src/DateRangePicker/DateRangePicker.tsx"],"sourcesContent":["import { DateRange } from './DateRangePicker';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { MuiPickersAdapter } from '../_shared/hooks/useUtils';\n\ninterface CalculateRangeChangeOptions {\n  utils: MuiPickersAdapter;\n  range: DateRange;\n  newDate: MaterialUiPickersDate;\n  currentlySelectingRangeEnd: 'start' | 'end';\n}\n\nexport function calculateRangeChange({\n  utils,\n  range,\n  newDate: selectedDate,\n  currentlySelectingRangeEnd,\n}: CalculateRangeChangeOptions): { nextSelection: 'start' | 'end'; newRange: DateRange } {\n  const [start, end] = range;\n\n  if (currentlySelectingRangeEnd === 'start') {\n    return Boolean(end) && utils.isAfter(selectedDate, end)\n      ? { nextSelection: 'end', newRange: [selectedDate, null] }\n      : { nextSelection: 'end', newRange: [selectedDate, end] };\n  } else {\n    return Boolean(start) && utils.isBefore(selectedDate, start)\n      ? { nextSelection: 'end', newRange: [selectedDate, null] }\n      : { nextSelection: 'start', newRange: [start, selectedDate] };\n  }\n}\n\nexport function calculateRangePreview(options: CalculateRangeChangeOptions): DateRange {\n  if (!options.newDate) {\n    return [null, null];\n  }\n\n  const [start, end] = options.range;\n  const { newRange } = calculateRangeChange(options);\n\n  if (!start || !end) {\n    return newRange;\n  }\n\n  const [previewStart, previewEnd] = newRange;\n  // prettier-ignore\n  return options.currentlySelectingRangeEnd === 'end'\n    ? [end, previewEnd]\n    : [previewStart, start];\n}\n","import * as React from 'react';\nimport PickerToolbar from '../_shared/PickerToolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ToolbarComponentProps } from '../Picker/Picker';\nimport { ToolbarButton } from '../_shared/ToolbarButton';\nimport { DateRange, CurrentlySelectingRangeEndProps } from './RangeTypes';\n\nexport const useStyles = makeStyles(\n  {\n    penIcon: {\n      position: 'relative',\n      top: 4,\n    },\n    dateTextContainer: {\n      display: 'flex',\n    },\n  },\n  { name: 'MuiPickersDatePickerRoot' }\n);\n\ninterface DateRangePickerToolbarProps\n  extends CurrentlySelectingRangeEndProps,\n    Pick<\n      ToolbarComponentProps,\n      'isMobileKeyboardViewOpen' | 'toggleMobileKeyboardView' | 'toolbarTitle' | 'toolbarFormat'\n    > {\n  date: DateRange;\n  startText: React.ReactNode;\n  endText: React.ReactNode;\n  currentlySelectingRangeEnd: 'start' | 'end';\n  setCurrentlySelectingRangeEnd: (newSelectingEnd: 'start' | 'end') => void;\n}\n\nexport const DateRangePickerToolbar: React.FC<DateRangePickerToolbarProps> = ({\n  date: [start, end],\n  toolbarFormat,\n  isMobileKeyboardViewOpen,\n  toggleMobileKeyboardView,\n  currentlySelectingRangeEnd,\n  setCurrentlySelectingRangeEnd,\n  startText,\n  endText,\n  toolbarTitle = 'SELECT DATE RANGE',\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n\n  const startDateValue = start\n    ? utils.formatByString(start, toolbarFormat || utils.formats.shortDate)\n    : startText;\n\n  const endDateValue = end\n    ? utils.formatByString(end, toolbarFormat || utils.formats.shortDate)\n    : endText;\n\n  return (\n    <PickerToolbar\n      toolbarTitle={toolbarTitle}\n      isMobileKeyboardViewOpen={isMobileKeyboardViewOpen}\n      toggleMobileKeyboardView={toggleMobileKeyboardView}\n      isLandscape={false}\n      penIconClassName={classes.penIcon}\n    >\n      <div className={classes.dateTextContainer}>\n        <ToolbarButton\n          variant={Boolean(start) ? 'h5' : 'h6'}\n          value={startDateValue}\n          selected={currentlySelectingRangeEnd === 'start'}\n          onClick={() => setCurrentlySelectingRangeEnd('start')}\n        />\n        <Typography variant=\"h5\">&nbsp;{'â€“'}&nbsp;</Typography>\n        <ToolbarButton\n          variant={Boolean(end) ? 'h5' : 'h6'}\n          value={endDateValue}\n          selected={currentlySelectingRangeEnd === 'end'}\n          onClick={() => setCurrentlySelectingRangeEnd('end')}\n        />\n      </div>\n    </PickerToolbar>\n  );\n};\n","import * as React from 'react';\nimport clsx from 'clsx';\nimport { DAY_MARGIN } from '../constants/dimensions';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles, fade } from '@material-ui/core/styles';\nimport { Day, DayProps, areDayPropsEqual } from '../views/Calendar/Day';\n\ninterface DateRangeDayProps extends DayProps {\n  isHighlighting: boolean;\n  isEndOfHighlighting: boolean;\n  isStartOfHighlighting: boolean;\n  isPreviewing: boolean;\n  isEndOfPreviewing: boolean;\n  isStartOfPreviewing: boolean;\n}\n\nconst endBorderStyle = {\n  borderTopRightRadius: '50%',\n  borderBottomRightRadius: '50%',\n};\n\nconst startBorderStyle = {\n  borderTopLeftRadius: '50%',\n  borderBottomLeftRadius: '50%',\n};\n\nconst useStyles = makeStyles(\n  theme => ({\n    rangeIntervalDay: {\n      '&:first-child $rangeIntervalDayPreview': {\n        ...startBorderStyle,\n        borderLeftColor: theme.palette.divider,\n      },\n      '&:last-child $rangeIntervalDayPreview': {\n        ...endBorderStyle,\n        borderRightColor: theme.palette.divider,\n      },\n    },\n    rangeIntervalDayHighlight: {\n      borderRadius: 0,\n      color: theme.palette.primary.contrastText,\n      backgroundColor: fade(theme.palette.primary.light, 0.6),\n      '&:first-child': startBorderStyle,\n      '&:last-child': endBorderStyle,\n    },\n    rangeIntervalDayHighlightStart: {\n      ...startBorderStyle,\n      paddingLeft: 0,\n      marginLeft: DAY_MARGIN / 2,\n    },\n    rangeIntervalDayHighlightEnd: {\n      ...endBorderStyle,\n      paddingRight: 0,\n      marginRight: DAY_MARGIN / 2,\n    },\n    day: {\n      // Required to overlap preview border\n      transform: 'scale(1.1)',\n      '& > *': {\n        transform: 'scale(0.9)',\n      },\n    },\n    dayOutsideRangeInterval: {\n      '&:hover': {\n        border: `1px solid ${theme.palette.grey[500]}`,\n      },\n    },\n    dayInsideRangeInterval: {\n      color: theme.palette.getContrastText(fade(theme.palette.primary.light, 0.6)),\n    },\n    notSelectedDate: {\n      backgroundColor: 'transparent',\n    },\n    rangeIntervalPreview: {\n      // replace default day component margin with transparent border to avoid jumping on preview\n      border: '2px solid transparent',\n    },\n    rangeIntervalDayPreview: {\n      borderRadius: 0,\n      border: `2px dashed ${theme.palette.divider}`,\n      borderLeftColor: 'transparent',\n      borderRightColor: 'transparent',\n\n      '&$rangeIntervalDayPreviewStart': {\n        borderLeftColor: theme.palette.divider,\n        ...startBorderStyle,\n      },\n      '&$rangeIntervalDayPreviewEnd': {\n        borderRightColor: theme.palette.divider,\n        ...endBorderStyle,\n      },\n    },\n    rangeIntervalDayPreviewStart: {},\n    rangeIntervalDayPreviewEnd: {},\n  }),\n  { name: 'MuiPickersDateRangeDay' }\n);\n\nexport const PureDateRangeDay = ({\n  day,\n  className,\n  selected,\n  isPreviewing,\n  isStartOfPreviewing,\n  isEndOfPreviewing,\n  isHighlighting,\n  isEndOfHighlighting,\n  isStartOfHighlighting,\n  inCurrentMonth,\n  ...other\n}: DateRangeDayProps) => {\n  const utils = useUtils();\n  const classes = useStyles();\n\n  const isEndOfMonth = utils.isSameDay(day, utils.endOfMonth(day));\n  const isStartOfMonth = utils.isSameDay(day, utils.startOfMonth(day));\n\n  const shouldRenderHighlight = isHighlighting && inCurrentMonth;\n  const shouldRenderPreview = isPreviewing && inCurrentMonth;\n\n  return (\n    <div\n      data-mui-test={shouldRenderHighlight ? 'DateRangeHighlight' : undefined}\n      className={clsx(classes.rangeIntervalDay, {\n        [classes.rangeIntervalDayHighlight]: shouldRenderHighlight,\n        [classes.rangeIntervalDayHighlightEnd]: isEndOfHighlighting || isEndOfMonth,\n        [classes.rangeIntervalDayHighlightStart]: isStartOfHighlighting || isStartOfMonth,\n      })}\n    >\n      <div\n        data-mui-test={shouldRenderPreview ? 'DateRangePreview' : undefined}\n        className={clsx(classes.rangeIntervalPreview, {\n          [classes.rangeIntervalDayPreview]: shouldRenderPreview,\n          [classes.rangeIntervalDayPreviewEnd]: isEndOfPreviewing || isEndOfMonth,\n          [classes.rangeIntervalDayPreviewStart]: isStartOfPreviewing || isStartOfMonth,\n        })}\n      >\n        <Day\n          allowKeyboardControl={false}\n          disableMargin\n          {...other}\n          day={day}\n          selected={selected}\n          inCurrentMonth={inCurrentMonth}\n          data-mui-test=\"DateRangeDay\"\n          className={clsx(\n            classes.day,\n            {\n              [classes.notSelectedDate]: !selected,\n              [classes.dayOutsideRangeInterval]: !isHighlighting,\n              [classes.dayInsideRangeInterval]: !selected && isHighlighting,\n            },\n            className\n          )}\n        />\n      </div>\n    </div>\n  );\n};\n\nPureDateRangeDay.displayName = 'DateRangeDay';\n\nexport const DateRangeDay = React.memo(PureDateRangeDay, (prevProps, nextProps) => {\n  return (\n    prevProps.isHighlighting === nextProps.isHighlighting &&\n    prevProps.isEndOfHighlighting === nextProps.isEndOfHighlighting &&\n    prevProps.isStartOfHighlighting === nextProps.isStartOfHighlighting &&\n    prevProps.isPreviewing === nextProps.isPreviewing &&\n    prevProps.isEndOfPreviewing === nextProps.isEndOfPreviewing &&\n    prevProps.isStartOfPreviewing === nextProps.isStartOfPreviewing &&\n    areDayPropsEqual(prevProps, nextProps)\n  );\n});\n","import * as React from 'react';\nimport CalendarHeader from '../views/Calendar/CalendarHeader';\nimport { DateRange } from './RangeTypes';\nimport { DateRangeDay } from './DateRangePickerDay';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { Calendar, CalendarProps } from '../views/Calendar/Calendar';\nimport { ExportedArrowSwitcherProps } from '../_shared/ArrowSwitcher';\nimport { defaultMinDate, defaultMaxDate } from '../constants/prop-types';\nimport {\n  isWithinRange,\n  isStartOfRange,\n  isEndOfRange,\n  DateValidationProps,\n} from '../_helpers/date-utils';\n\nexport interface ExportedMobileDateRangeCalendarProps {}\n\ninterface DesktopDateRangeCalendarProps\n  extends ExportedMobileDateRangeCalendarProps,\n    CalendarProps,\n    DateValidationProps,\n    ExportedArrowSwitcherProps {\n  date: DateRange;\n  changeMonth: (date: MaterialUiPickersDate) => void;\n}\n\nconst onlyDateView = ['date'] as ['date'];\n\nexport const DateRangePickerViewMobile: React.FC<DesktopDateRangeCalendarProps> = ({\n  date,\n  changeMonth,\n  leftArrowButtonProps,\n  leftArrowButtonText,\n  leftArrowIcon,\n  rightArrowButtonProps,\n  rightArrowButtonText,\n  rightArrowIcon,\n  onChange,\n  minDate: __minDate,\n  maxDate: __maxDate,\n  ...other\n}) => {\n  const utils = useUtils();\n  const minDate = __minDate || utils.date(defaultMinDate);\n  const maxDate = __maxDate || utils.date(defaultMaxDate);\n\n  return (\n    <>\n      <CalendarHeader\n        view=\"date\"\n        views={onlyDateView}\n        changeView={() => ({})}\n        onMonthChange={changeMonth}\n        leftArrowButtonProps={leftArrowButtonProps}\n        leftArrowButtonText={leftArrowButtonText}\n        leftArrowIcon={leftArrowIcon}\n        rightArrowButtonProps={rightArrowButtonProps}\n        rightArrowButtonText={rightArrowButtonText}\n        rightArrowIcon={rightArrowIcon}\n        minDate={minDate}\n        maxDate={maxDate}\n        {...other}\n      />\n\n      <Calendar\n        {...other}\n        date={date}\n        onChange={onChange}\n        renderDay={(day, _, DayProps) => (\n          <DateRangeDay\n            isPreviewing={false}\n            isStartOfPreviewing={false}\n            isEndOfPreviewing={false}\n            isHighlighting={isWithinRange(utils, day, date)}\n            isStartOfHighlighting={isStartOfRange(utils, day, date)}\n            isEndOfHighlighting={isEndOfRange(utils, day, date)}\n            {...DayProps}\n          />\n        )}\n      />\n    </>\n  );\n};\n","import * as React from 'react';\nimport { RangeInput, DateRange } from './RangeTypes';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { CurrentlySelectingRangeEndProps } from './RangeTypes';\nimport { useMaskedInput } from '../_shared/hooks/useMaskedInput';\nimport { DateRangeValidationError } from '../_helpers/date-utils';\nimport { WrapperVariantContext } from '../wrappers/WrapperVariantContext';\nimport { DateInputProps, MuiTextFieldProps } from '../_shared/PureDateInput';\nimport { mergeRefs, executeInTheNextEventLoopTick } from '../_helpers/utils';\n\nexport const useStyles = makeStyles(\n  theme => ({\n    rangeInputsContainer: {\n      display: 'flex',\n      alignItems: 'baseline',\n      [theme.breakpoints.down('xs')]: {\n        flexDirection: 'column',\n        alignItems: 'center',\n      },\n    },\n    toLabelDelimiter: {\n      margin: '8px 0',\n      [theme.breakpoints.up('sm')]: {\n        margin: '0 16px',\n      },\n    },\n  }),\n  { name: 'MuiPickersDateRangePickerInput' }\n);\n\nexport interface ExportedDateRangePickerInputProps {\n  /**\n   * Render input component for date range. Where `props` â€“ [TextField](https://material-ui.com/api/text-field/#textfield-api) component props\n   * @example ```jsx\n   * <DateRangePicker\n   * renderInput={(startProps, endProps) => (\n       <>\n         <TextField {...startProps} />\n         <Typography> to <Typography>\n         <TextField {...endProps} />\n       </>;\n     )}\n     />\n   * ````\n   */\n  renderInput: (startProps: MuiTextFieldProps, endProps: MuiTextFieldProps) => React.ReactElement;\n}\n\nexport interface DateRangeInputProps\n  extends ExportedDateRangePickerInputProps,\n    CurrentlySelectingRangeEndProps,\n    Omit<\n      DateInputProps<RangeInput, DateRange>,\n      'validationError' | 'renderInput' | 'forwardedRef'\n    > {\n  startText: React.ReactNode;\n  endText: React.ReactNode;\n  forwardedRef?: React.Ref<HTMLDivElement>;\n  containerRef?: React.Ref<HTMLDivElement>;\n  validationError: DateRangeValidationError;\n}\n\nexport const DateRangePickerInput: React.FC<DateRangeInputProps> = ({\n  containerRef,\n  currentlySelectingRangeEnd,\n  disableOpenPicker,\n  endText,\n  forwardedRef,\n  onBlur,\n  onChange,\n  open,\n  openPicker,\n  rawValue,\n  readOnly,\n  renderInput,\n  setCurrentlySelectingRangeEnd,\n  startText,\n  TextFieldProps,\n  rawValue: [start, end],\n  validationError: [startValidationError, endValidationError],\n  ...other\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n  const startRef = React.useRef<HTMLInputElement>(null);\n  const endRef = React.useRef<HTMLInputElement>(null);\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    if (currentlySelectingRangeEnd === 'start') {\n      startRef.current?.focus();\n    } else if (currentlySelectingRangeEnd === 'end') {\n      endRef.current?.focus();\n    }\n  }, [currentlySelectingRangeEnd, open]);\n\n  // TODO: rethink this approach. We do not need to wait for calendar to be updated to rerender input (looks like freezing)\n  // TODO: so simply break 1 react's commit phase in 2 (first for input and second for calendars) by executing onChange in the next tick\n  const lazyHandleChangeCallback = React.useCallback(\n    (...args: Parameters<typeof onChange>) =>\n      executeInTheNextEventLoopTick(() => onChange(...args)),\n    [onChange]\n  );\n\n  const handleStartChange = (date: MaterialUiPickersDate, inputString?: string) => {\n    lazyHandleChangeCallback([date, utils.date(end)], inputString);\n  };\n\n  const handleEndChange = (date: MaterialUiPickersDate, inputString?: string) => {\n    lazyHandleChangeCallback([utils.date(start), date], inputString);\n  };\n\n  const openRangeStartSelection = () => {\n    if (setCurrentlySelectingRangeEnd) {\n      setCurrentlySelectingRangeEnd('start');\n    }\n    if (!disableOpenPicker) {\n      openPicker();\n    }\n  };\n\n  const openRangeEndSelection = () => {\n    if (setCurrentlySelectingRangeEnd) {\n      setCurrentlySelectingRangeEnd('end');\n    }\n    if (!disableOpenPicker) {\n      openPicker();\n    }\n  };\n\n  const openOnFocus = wrapperVariant === 'desktop';\n  const startInputProps = useMaskedInput({\n    ...other,\n    readOnly,\n    rawValue: start,\n    onChange: handleStartChange,\n    label: startText,\n    validationError: startValidationError !== null,\n    TextFieldProps: {\n      ...TextFieldProps,\n      ref: startRef,\n      variant: 'outlined',\n      focused: open && currentlySelectingRangeEnd === 'start',\n      onClick: !openOnFocus ? openRangeStartSelection : undefined,\n      onFocus: openOnFocus ? openRangeStartSelection : undefined,\n    },\n  });\n\n  const endInputProps = useMaskedInput({\n    ...other,\n    readOnly,\n    label: endText,\n    rawValue: end,\n    onChange: handleEndChange,\n    validationError: endValidationError !== null,\n    TextFieldProps: {\n      ...TextFieldProps,\n      ref: endRef,\n      variant: 'outlined',\n      focused: open && currentlySelectingRangeEnd === 'end',\n      onClick: !openOnFocus ? openRangeEndSelection : undefined,\n      onFocus: openOnFocus ? openRangeEndSelection : undefined,\n    },\n  });\n\n  return (\n    <div\n      onBlur={onBlur}\n      className={classes.rangeInputsContainer}\n      ref={mergeRefs([containerRef, forwardedRef])}\n    >\n      {renderInput(startInputProps, endInputProps)}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { DateRange } from './RangeTypes';\nimport { DateRangeDay } from './DateRangePickerDay';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { calculateRangePreview } from './date-range-manager';\nimport { Calendar, CalendarProps } from '../views/Calendar/Calendar';\nimport { defaultMinDate, defaultMaxDate } from '../constants/prop-types';\nimport { ArrowSwitcher, ExportedArrowSwitcherProps } from '../_shared/ArrowSwitcher';\nimport {\n  usePreviousMonthDisabled,\n  useNextMonthDisabled,\n} from '../_shared/hooks/date-helpers-hooks';\nimport {\n  isWithinRange,\n  isStartOfRange,\n  isEndOfRange,\n  DateValidationProps,\n} from '../_helpers/date-utils';\n\nexport interface ExportedDesktopDateRangeCalendarProps {\n  /**\n   * How many calendars render on **desktop** DateRangePicker\n   * @default 2\n   */\n  calendars?: 1 | 2 | 3;\n}\n\ninterface DesktopDateRangeCalendarProps\n  extends ExportedDesktopDateRangeCalendarProps,\n    CalendarProps,\n    DateValidationProps,\n    ExportedArrowSwitcherProps {\n  date: DateRange;\n  changeMonth: (date: MaterialUiPickersDate) => void;\n  currentlySelectingRangeEnd: 'start' | 'end';\n}\n\nexport const useStyles = makeStyles(\n  theme => ({\n    dateRangeContainer: {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    rangeCalendarContainer: {\n      '&:not(:last-child)': {\n        borderRight: `2px solid ${theme.palette.divider}`,\n      },\n    },\n    calendar: {\n      minWidth: 312,\n      minHeight: 288,\n    },\n    arrowSwitcher: {\n      padding: '16px 16px 8px 16px',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n    },\n  }),\n  { name: 'MuiPickersDesktopDateRangeCalendar' }\n);\n\nfunction getCalendarsArray(calendars: ExportedDesktopDateRangeCalendarProps['calendars']) {\n  switch (calendars) {\n    case 1:\n      return [0];\n    case 2:\n      return [0, 0];\n    case 3:\n      return [0, 0, 0];\n    // this will not work in IE11, but allows to support any amount of calendars\n    default:\n      return new Array(calendars).fill(0);\n  }\n}\n\nexport const DateRangePickerViewDesktop: React.FC<DesktopDateRangeCalendarProps> = ({\n  date,\n  calendars = 2,\n  changeMonth,\n  leftArrowButtonProps,\n  leftArrowButtonText,\n  leftArrowIcon,\n  rightArrowButtonProps,\n  rightArrowButtonText,\n  rightArrowIcon,\n  onChange,\n  disableFuture,\n  disablePast,\n  minDate: __minDate,\n  maxDate: __maxDate,\n  currentlySelectingRangeEnd,\n  currentMonth,\n  ...other\n}) => {\n  const utils = useUtils();\n  const classes = useStyles();\n  const minDate = __minDate || utils.date(defaultMinDate);\n  const maxDate = __maxDate || utils.date(defaultMaxDate);\n\n  const [rangePreviewDay, setRangePreviewDay] = React.useState<MaterialUiPickersDate>(null);\n\n  const isNextMonthDisabled = useNextMonthDisabled(currentMonth, { disableFuture, maxDate });\n  const isPreviousMonthDisabled = usePreviousMonthDisabled(currentMonth, { disablePast, minDate });\n\n  const previewingRange = calculateRangePreview({\n    utils,\n    range: date,\n    newDate: rangePreviewDay,\n    currentlySelectingRangeEnd,\n  });\n\n  const handleDayChange = React.useCallback(\n    (day: MaterialUiPickersDate) => {\n      setRangePreviewDay(null);\n      onChange(day);\n    },\n    [onChange]\n  );\n\n  const handlePreviewDayChange = (newPreviewRequest: MaterialUiPickersDate) => {\n    if (!isWithinRange(utils, newPreviewRequest, date)) {\n      setRangePreviewDay(newPreviewRequest);\n    } else {\n      setRangePreviewDay(null);\n    }\n  };\n\n  const CalendarTransitionProps = React.useMemo(\n    () => ({\n      onMouseLeave: () => setRangePreviewDay(null),\n    }),\n    []\n  );\n\n  const selectNextMonth = React.useCallback(() => {\n    changeMonth(utils.getNextMonth(currentMonth));\n  }, [changeMonth, currentMonth, utils]);\n\n  const selectPreviousMonth = React.useCallback(() => {\n    changeMonth(utils.getPreviousMonth(currentMonth));\n  }, [changeMonth, currentMonth, utils]);\n\n  return (\n    <div className={classes.dateRangeContainer}>\n      {getCalendarsArray(calendars).map((_, index) => {\n        const monthOnIteration = utils.setMonth(currentMonth, utils.getMonth(currentMonth) + index);\n\n        return (\n          <div key={index} className={classes.rangeCalendarContainer}>\n            <ArrowSwitcher\n              className={classes.arrowSwitcher}\n              onLeftClick={selectPreviousMonth}\n              onRightClick={selectNextMonth}\n              isLeftHidden={index !== 0}\n              isRightHidden={index !== calendars - 1}\n              isLeftDisabled={isPreviousMonthDisabled}\n              isRightDisabled={isNextMonthDisabled}\n              leftArrowButtonProps={leftArrowButtonProps}\n              leftArrowButtonText={leftArrowButtonText}\n              leftArrowIcon={leftArrowIcon}\n              rightArrowButtonProps={rightArrowButtonProps}\n              rightArrowButtonText={rightArrowButtonText}\n              rightArrowIcon={rightArrowIcon}\n              text={utils.format(monthOnIteration, 'monthAndYear')}\n            />\n\n            <Calendar\n              {...other}\n              key={index}\n              date={date}\n              className={classes.calendar}\n              onChange={handleDayChange}\n              currentMonth={monthOnIteration}\n              TransitionProps={CalendarTransitionProps}\n              renderDay={(day, _, DayProps) => (\n                <DateRangeDay\n                  isPreviewing={isWithinRange(utils, day, previewingRange)}\n                  isStartOfPreviewing={isStartOfRange(utils, day, previewingRange)}\n                  isEndOfPreviewing={isEndOfRange(utils, day, previewingRange)}\n                  isHighlighting={isWithinRange(utils, day, date)}\n                  isStartOfHighlighting={isStartOfRange(utils, day, date)}\n                  isEndOfHighlighting={isEndOfRange(utils, day, date)}\n                  onMouseEnter={() => handlePreviewDayChange(day)}\n                  {...DayProps}\n                />\n              )}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import * as React from 'react';\nimport { isRangeValid } from '../_helpers/date-utils';\nimport { MaterialUiPickersDate } from '../typings/date';\nimport { BasePickerProps } from '../typings/BasePicker';\nimport { calculateRangeChange } from './date-range-manager';\nimport { useUtils, useNow } from '../_shared/hooks/useUtils';\nimport { SharedPickerProps } from '../Picker/SharedPickerProps';\nimport { DateRangePickerToolbar } from './DateRangePickerToolbar';\nimport { useParsedDate } from '../_shared/hooks/date-helpers-hooks';\nimport { useCalendarState } from '../views/Calendar/useCalendarState';\nimport { FORCE_FINISH_PICKER } from '../_shared/hooks/usePickerState';\nimport { DateRangePickerViewMobile } from './DateRangePickerViewMobile';\nimport { WrapperVariantContext } from '../wrappers/WrapperVariantContext';\nimport { MobileKeyboardInputView } from '../views/MobileKeyboardInputView';\nimport { DateRangePickerInput, DateRangeInputProps } from './DateRangePickerInput';\nimport { RangeInput, DateRange, CurrentlySelectingRangeEndProps } from './RangeTypes';\nimport { ExportedCalendarViewProps, defaultReduceAnimations } from '../views/Calendar/CalendarView';\nimport {\n  DateRangePickerViewDesktop,\n  ExportedDesktopDateRangeCalendarProps,\n} from './DateRangePickerViewDesktop';\n\ntype BaseCalendarPropsToReuse = Omit<ExportedCalendarViewProps, 'onYearChange'>;\n\nexport interface ExportedDateRangePickerViewProps\n  extends BaseCalendarPropsToReuse,\n    ExportedDesktopDateRangeCalendarProps,\n    Omit<BasePickerProps, 'value' | 'onChange'> {\n  /**\n   * if `true` after selecting `start` date  calendar will not automatically switch to the month of `end` date\n   * @default false\n   */\n  disableAutoMonthSwitching?: boolean;\n}\n\ninterface DateRangePickerViewProps\n  extends ExportedDateRangePickerViewProps,\n    CurrentlySelectingRangeEndProps,\n    SharedPickerProps<RangeInput, DateRange, DateRangeInputProps> {\n  open: boolean;\n  startText: React.ReactNode;\n  endText: React.ReactNode;\n}\n\nexport const DateRangePickerView: React.FC<DateRangePickerViewProps> = ({\n  open,\n  calendars = 2,\n  currentlySelectingRangeEnd,\n  date,\n  disableAutoMonthSwitching = false,\n  disableFuture,\n  disableHighlightToday,\n  disablePast,\n  maxDate: unparsedMaxDate = new Date('2100-01-01'),\n  minDate: unparsedMinDate = new Date('1900-01-01'),\n  onDateChange,\n  onMonthChange,\n  reduceAnimations = defaultReduceAnimations,\n  setCurrentlySelectingRangeEnd,\n  shouldDisableDate,\n  toggleMobileKeyboardView,\n  isMobileKeyboardViewOpen,\n  showToolbar,\n  startText,\n  endText,\n  className,\n  DateInputProps,\n  ...other\n}) => {\n  const now = useNow();\n  const utils = useUtils();\n  const wrapperVariant = React.useContext(WrapperVariantContext);\n  const minDate = useParsedDate(unparsedMinDate)!;\n  const maxDate = useParsedDate(unparsedMaxDate)!;\n\n  const [start, end] = date;\n  const {\n    changeMonth,\n    calendarState,\n    isDateDisabled,\n    onMonthSwitchingAnimationEnd,\n    changeFocusedDay,\n  } = useCalendarState({\n    date: start || end || now,\n    minDate,\n    maxDate,\n    reduceAnimations,\n    disablePast,\n    disableFuture,\n    onMonthChange,\n    shouldDisableDate,\n    disableSwitchToMonthOnDayFocus: true,\n  });\n\n  const toShowToolbar = showToolbar ?? wrapperVariant !== 'desktop';\n\n  const scrollToDayIfNeeded = (day: MaterialUiPickersDate) => {\n    if (!utils.isValid(day) || isDateDisabled(day)) {\n      return;\n    }\n\n    const displayingMonthRange = wrapperVariant === 'mobile' ? 0 : calendars - 1;\n    const currentMonthNumber = utils.getMonth(calendarState.currentMonth);\n    const requestedMonthNumber = utils.getMonth(day);\n\n    if (\n      !utils.isSameYear(calendarState.currentMonth, day) ||\n      requestedMonthNumber < currentMonthNumber ||\n      requestedMonthNumber > currentMonthNumber + displayingMonthRange\n    ) {\n      const newMonth =\n        currentlySelectingRangeEnd === 'start'\n          ? start\n          : // If need to focus end, scroll to the state when \"end\" is displaying in the last calendar\n            utils.addMonths(end, -displayingMonthRange);\n\n      changeMonth(newMonth);\n    }\n  };\n\n  React.useEffect(() => {\n    if (disableAutoMonthSwitching || !open) {\n      return;\n    }\n\n    if (\n      (currentlySelectingRangeEnd === 'start' && start === null) ||\n      (currentlySelectingRangeEnd === 'end' && end === null)\n    ) {\n      return;\n    }\n\n    scrollToDayIfNeeded(currentlySelectingRangeEnd === 'start' ? start : end);\n  }, [currentlySelectingRangeEnd, date]); // eslint-disable-line\n\n  const handleChange = React.useCallback(\n    (newDate: MaterialUiPickersDate) => {\n      const { nextSelection, newRange } = calculateRangeChange({\n        newDate,\n        utils,\n        range: date,\n        currentlySelectingRangeEnd,\n      });\n\n      setCurrentlySelectingRangeEnd(nextSelection);\n\n      const isFullRangeSelected =\n        currentlySelectingRangeEnd === 'end' && isRangeValid(utils, newRange);\n      onDateChange(newRange, wrapperVariant, isFullRangeSelected ? FORCE_FINISH_PICKER : true);\n    },\n    [\n      currentlySelectingRangeEnd,\n      date,\n      onDateChange,\n      setCurrentlySelectingRangeEnd,\n      utils,\n      wrapperVariant,\n    ]\n  );\n\n  const renderView = () => {\n    const sharedCalendarProps = {\n      date,\n      isDateDisabled,\n      changeFocusedDay,\n      onChange: handleChange,\n      reduceAnimations,\n      disableHighlightToday,\n      onMonthSwitchingAnimationEnd,\n      changeMonth,\n      currentlySelectingRangeEnd,\n      disableFuture,\n      disablePast,\n      minDate,\n      maxDate,\n      ...calendarState,\n      ...other,\n    };\n\n    switch (wrapperVariant) {\n      case 'desktop': {\n        return <DateRangePickerViewDesktop calendars={calendars} {...sharedCalendarProps} />;\n      }\n\n      default: {\n        return <DateRangePickerViewMobile {...sharedCalendarProps} />;\n      }\n    }\n  };\n\n  return (\n    <div className={className}>\n      {toShowToolbar && (\n        <DateRangePickerToolbar\n          date={date}\n          isMobileKeyboardViewOpen={isMobileKeyboardViewOpen}\n          toggleMobileKeyboardView={toggleMobileKeyboardView}\n          currentlySelectingRangeEnd={currentlySelectingRangeEnd}\n          setCurrentlySelectingRangeEnd={setCurrentlySelectingRangeEnd}\n          startText={startText}\n          endText={endText}\n        />\n      )}\n\n      {isMobileKeyboardViewOpen ? (\n        <MobileKeyboardInputView>\n          <DateRangePickerInput disableOpenPicker ignoreInvalidInputs {...DateInputProps} />\n        </MobileKeyboardInputView>\n      ) : (\n        renderView()\n      )}\n    </div>\n  );\n};\n","import Typography from '@material-ui/core/Typography';\nimport { styled } from '@material-ui/core/styles';\n\nexport const DateRangeDelimiter = styled(Typography)({\n  margin: '0 16px',\n});\n","import * as React from 'react';\nimport { useUtils } from '../_shared/hooks/useUtils';\nimport { MobileWrapper } from '../wrappers/MobileWrapper';\nimport { DateRangeInputProps } from './DateRangePickerInput';\nimport { usePickerState } from '../_shared/hooks/usePickerState';\nimport { useParsedDate } from '../_shared/hooks/date-helpers-hooks';\nimport { DesktopPopperWrapper } from '../wrappers/DesktopPopperWrapper';\nimport { makeWrapperComponent } from '../wrappers/makeWrapperComponent';\nimport { ResponsivePopperWrapper } from '../wrappers/ResponsiveWrapper';\nimport { defaultMinDate, defaultMaxDate } from '../constants/prop-types';\nimport { SomeWrapper, ExtendWrapper, StaticWrapper } from '../wrappers/Wrapper';\nimport { makeValidationHook, ValidationProps } from '../_shared/hooks/useValidation';\nimport { DateRangePickerView, ExportedDateRangePickerViewProps } from './DateRangePickerView';\nimport { DateRangePickerInput, ExportedDateRangePickerInputProps } from './DateRangePickerInput';\nimport {\n  DateRange as DateRangeType,\n  RangeInput,\n  AllSharedDateRangePickerProps,\n} from './RangeTypes';\nimport {\n  parseRangeInputValue,\n  validateDateRange,\n  DateRangeValidationError,\n} from '../_helpers/date-utils';\n\nexport interface DateRangePickerProps\n  extends ExportedDateRangePickerViewProps,\n    ValidationProps<DateRangeValidationError, RangeInput>,\n    ExportedDateRangePickerInputProps {\n  /**\n   * Text for start input label and toolbar placeholder\n   * @default \"Start\"\n   */\n  startText?: React.ReactNode;\n  /**\n   * Text for end input label and toolbar placeholder\n   * @default \"end\"\n   */\n  endText?: React.ReactNode;\n}\n\nexport const useDateRangeValidation = makeValidationHook<\n  DateRangeValidationError,\n  RangeInput,\n  DateRangePickerProps\n>(validateDateRange, {\n  defaultValidationError: [null, null],\n  isSameError: (a, b) => a[1] === b[1] && a[0] === b[0],\n});\n\nexport function makeRangePicker<TWrapper extends SomeWrapper>(Wrapper: TWrapper) {\n  const WrapperComponent = makeWrapperComponent<DateRangeInputProps, RangeInput, DateRange>(\n    Wrapper,\n    {\n      KeyboardDateInputComponent: DateRangePickerInput,\n      PureDateInputComponent: DateRangePickerInput,\n    }\n  );\n\n  function RangePickerWithStateAndWrapper({\n    calendars,\n    value,\n    onChange,\n    mask = '__/__/____',\n    startText = 'Start',\n    endText = 'End',\n    inputFormat: passedInputFormat,\n    minDate: __minDate = defaultMinDate,\n    maxDate: __maxDate = defaultMaxDate,\n    ...other\n  }: DateRangePickerProps & AllSharedDateRangePickerProps & ExtendWrapper<TWrapper>) {\n    const utils = useUtils();\n    const minDate = useParsedDate(__minDate);\n    const maxDate = useParsedDate(__maxDate);\n    const [currentlySelectingRangeEnd, setCurrentlySelectingRangeEnd] = React.useState<\n      'start' | 'end'\n    >('start');\n\n    const pickerStateProps = {\n      ...other,\n      value,\n      onChange,\n      inputFormat: passedInputFormat || utils.formats.keyboardDate,\n    };\n\n    const restProps = {\n      ...other,\n      minDate,\n      maxDate,\n    };\n\n    const { pickerProps, inputProps, wrapperProps } = usePickerState<RangeInput, DateRange>(\n      pickerStateProps,\n      {\n        parseInput: parseRangeInputValue,\n        areValuesEqual: (a, b) => utils.isEqual(a[0], b[0]) && utils.isEqual(a[1], b[1]),\n        emptyValue: [null, null],\n      }\n    );\n\n    const validationError = useDateRangeValidation(value, restProps);\n\n    const DateInputProps = {\n      ...inputProps,\n      ...restProps,\n      currentlySelectingRangeEnd,\n      setCurrentlySelectingRangeEnd,\n      startText,\n      endText,\n      mask,\n      validationError,\n    };\n\n    return (\n      <WrapperComponent wrapperProps={wrapperProps} DateInputProps={DateInputProps} {...restProps}>\n        <DateRangePickerView\n          open={wrapperProps.open}\n          DateInputProps={DateInputProps}\n          calendars={calendars}\n          currentlySelectingRangeEnd={currentlySelectingRangeEnd}\n          setCurrentlySelectingRangeEnd={setCurrentlySelectingRangeEnd}\n          startText={startText}\n          endText={endText}\n          {...pickerProps}\n          {...restProps}\n        />\n      </WrapperComponent>\n    );\n  }\n\n  return React.forwardRef<\n    HTMLDivElement,\n    React.ComponentProps<typeof RangePickerWithStateAndWrapper>\n  >((props, ref) => <RangePickerWithStateAndWrapper {...(props as any)} forwardedRef={ref} />);\n}\n\n// TODO replace with new export type syntax\nexport type DateRange = DateRangeType;\n\nexport const DateRangePicker = makeRangePicker(ResponsivePopperWrapper);\n\nexport const DesktopDateRangePicker = makeRangePicker(DesktopPopperWrapper);\n\nexport const MobileDateRangePicker = makeRangePicker(MobileWrapper);\n\nexport const StaticDateRangePicker = makeRangePicker(StaticWrapper);\n\nexport { DateRangeDelimiter } from './DateRangeDelimiter';\n"],"names":["calculateRangeChange","utils","range","selectedDate","newDate","currentlySelectingRangeEnd","start","end","Boolean","isAfter","nextSelection","newRange","isBefore","calculateRangePreview","options","previewStart","previewEnd","useStyles","makeStyles","penIcon","position","top","dateTextContainer","display","name","DateRangePickerToolbar","date","toolbarFormat","isMobileKeyboardViewOpen","toggleMobileKeyboardView","setCurrentlySelectingRangeEnd","startText","endText","toolbarTitle","useUtils","classes","startDateValue","formatByString","formats","shortDate","endDateValue","React.createElement","endBorderStyle","borderTopRightRadius","borderBottomRightRadius","startBorderStyle","borderTopLeftRadius","borderBottomLeftRadius","theme","rangeIntervalDay","borderLeftColor","palette","divider","borderRightColor","rangeIntervalDayHighlight","borderRadius","color","primary","contrastText","backgroundColor","fade","light","rangeIntervalDayHighlightStart","paddingLeft","marginLeft","DAY_MARGIN","rangeIntervalDayHighlightEnd","paddingRight","marginRight","day","transform","dayOutsideRangeInterval","border","grey","dayInsideRangeInterval","getContrastText","notSelectedDate","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","PureDateRangeDay","className","selected","isPreviewing","isStartOfPreviewing","isEndOfPreviewing","isHighlighting","isEndOfHighlighting","isStartOfHighlighting","inCurrentMonth","other","isEndOfMonth","isSameDay","endOfMonth","isStartOfMonth","startOfMonth","shouldRenderHighlight","shouldRenderPreview","undefined","clsx","displayName","DateRangeDay","React","prevProps","nextProps","areDayPropsEqual","onlyDateView","DateRangePickerViewMobile","changeMonth","leftArrowButtonProps","leftArrowButtonText","leftArrowIcon","rightArrowButtonProps","rightArrowButtonText","rightArrowIcon","onChange","__minDate","minDate","__maxDate","maxDate","defaultMinDate","defaultMaxDate","_","DayProps","isWithinRange","isStartOfRange","isEndOfRange","rangeInputsContainer","alignItems","breakpoints","down","flexDirection","toLabelDelimiter","margin","up","DateRangePickerInput","containerRef","disableOpenPicker","forwardedRef","onBlur","open","openPicker","rawValue","readOnly","renderInput","TextFieldProps","validationError","startValidationError","endValidationError","startRef","endRef","wrapperVariant","WrapperVariantContext","current","focus","lazyHandleChangeCallback","args","executeInTheNextEventLoopTick","handleStartChange","inputString","handleEndChange","openRangeStartSelection","openRangeEndSelection","openOnFocus","startInputProps","useMaskedInput","label","ref","variant","focused","onClick","onFocus","endInputProps","mergeRefs","dateRangeContainer","rangeCalendarContainer","borderRight","calendar","minWidth","minHeight","arrowSwitcher","padding","justifyContent","getCalendarsArray","calendars","Array","fill","DateRangePickerViewDesktop","disableFuture","disablePast","currentMonth","rangePreviewDay","setRangePreviewDay","isNextMonthDisabled","useNextMonthDisabled","isPreviousMonthDisabled","usePreviousMonthDisabled","previewingRange","handleDayChange","handlePreviewDayChange","newPreviewRequest","CalendarTransitionProps","onMouseLeave","selectNextMonth","getNextMonth","selectPreviousMonth","getPreviousMonth","map","index","monthOnIteration","setMonth","getMonth","format","DateRangePickerView","disableAutoMonthSwitching","disableHighlightToday","unparsedMaxDate","Date","unparsedMinDate","onDateChange","onMonthChange","reduceAnimations","defaultReduceAnimations","shouldDisableDate","showToolbar","DateInputProps","now","useNow","useParsedDate","useCalendarState","disableSwitchToMonthOnDayFocus","calendarState","isDateDisabled","onMonthSwitchingAnimationEnd","changeFocusedDay","toShowToolbar","scrollToDayIfNeeded","isValid","displayingMonthRange","currentMonthNumber","requestedMonthNumber","isSameYear","newMonth","addMonths","handleChange","isFullRangeSelected","isRangeValid","FORCE_FINISH_PICKER","renderView","sharedCalendarProps","DateRangeDelimiter","styled","Typography","useDateRangeValidation","makeValidationHook","validateDateRange","defaultValidationError","isSameError","a","b","makeRangePicker","Wrapper","WrapperComponent","makeWrapperComponent","KeyboardDateInputComponent","PureDateInputComponent","RangePickerWithStateAndWrapper","value","mask","passedInputFormat","inputFormat","pickerStateProps","keyboardDate","restProps","usePickerState","parseInput","parseRangeInputValue","areValuesEqual","isEqual","emptyValue","pickerProps","inputProps","wrapperProps","props","DateRangePicker","ResponsivePopperWrapper","DesktopDateRangePicker","DesktopPopperWrapper","MobileDateRangePicker","MobileWrapper","StaticDateRangePicker","StaticWrapper"],"mappings":"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"}